#ifndef MYVIEW_H
#define MYVIEW_H

#include "QtHead.h"

class MyView :public QGraphicsView
{
	Q_OBJECT
public:
	explicit MyView(QWidget *parent = 0);
	void setSTranslateSpeed(qreal speed);
	qreal translateSpeed()const;
	void setZoomDelta(qreal delta);
	qreal zoomDelta();
	~MyView();
protected:
	void mouseMoveEvent(QMouseEvent *event) Q_DECL_OVERRIDE;
	void mousePressEvent(QMouseEvent *event) Q_DECL_OVERRIDE;
	void mouseReleaseEvent(QMouseEvent *event) Q_DECL_OVERRIDE;
	void wheelEvent(QWheelEvent *event) Q_DECL_OVERRIDE;
public Q_SLOT:
	void zoomIn();  // 放大
	void zoomOut();  // 缩小
	void zoom(float scaleFactor); // 缩放 - scaleFactor：缩放的比例因子
	void translate(QPointF delta);  // 平移
private:
	Qt::MouseButton m_translateButton;
	qreal m_translateSpeed;  // 平移速度
	qreal m_zoomDelta;  // 缩放的增量
	bool m_bMouseTranslate;  // 平移标识
	QPoint m_lastMousePos;  // 鼠标最后按下的位置
	qreal m_scale;  // 缩放值
};

#endif